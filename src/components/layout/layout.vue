<template>
    <div class="sm:flex">
        <!-- Sidebar starts -->
        <div class="sm:hidden flex justify-around sticky z-20 bg-blue-900 dark:bg-gray-900 -shadow items-center h-12">
                <router-link to="/Home" class="-ml-6">              <!--TODO crÃ©er menu-->
                    <svg class="" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 -53 384 384"><path d="m368 154.667969h-352c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h352c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0" fill="#fff"/><path d="m368 32h-352c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h352c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0" fill="#fff"/><path d="m368 277.332031h-352c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h352c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0" fill="#fff"/></svg>
                </router-link>
            <div class="ml-4">
                <router-link to="/Home" class="">
                    <svg class="" height="24" viewBox="0 0 485 78" width="150" xmlns="http://www.w3.org/2000/svg"><g fill="#fff"><path d="m5.41 12.67q-2.18 0-3.65-1.47-1.47-1.47-1.47-3.67 0-2.16 1.47-3.64 1.47-1.47 3.65-1.47 2.19 0 3.76 1.37l-1.36 1.49q-1.05-.82-2.4-.82-1.38.01-2.23.87-.84.85-.84 2.18 0 1.43.85 2.27.85.84 2.23.84 1.11 0 1.7-.43v-1.76l-1.36.01v-1.92h3.41v4.79q-1.56 1.36-3.76 1.36zm7.43-6.84v.76q.74-.75 1.79-.75.33 0 .63.05l-.3 1.89q-.33-.3-.95-.32-.7.05-1.17 1.01v4.2h-1.91v-6.63zm6.77 6.91q-1.49 0-2.49-1-.99-1-.99-2.48 0-1.49.99-2.49 1-1 2.49-1 1.49 0 2.49 1 1 1 1 2.49 0 1.49-1 2.48-1 1-2.49 1zm0-1.65q.77 0 1.26-.53.49-.52.49-1.3 0-.78-.49-1.3-.49-.53-1.27-.53-.77 0-1.26.53-.48.52-.48 1.3 0 .78.48 1.3.49.53 1.27.53zm8.91-.84v-4.42h1.91v6.84h-1.91v-.62q-.69.62-1.64.62-1.3 0-1.98-.79-.69-.79-.69-1.81v-4.24h1.92v3.76q0 .68.34 1.06.34.38 1.03.4.6-.04 1.02-.8zm5.45 5.3-1.91-.01v-9.5l1.91-.21v.55q.77-.55 1.51-.55 1.57 0 2.49 1.03.93 1.02.93 2.39 0 1.37-.93 2.39-.92 1.03-2.49 1.03-1.03-.07-1.51-.56zm0-6.92v1.11q.14 1.15 1.44 1.35 1.64-.13 1.85-1.7-.07-1.92-1.85-1.99-1.3.21-1.44 1.23zm9.38 4.11q-1.49 0-2.48-1-1-1-1-2.48 0-1.49 1-2.49.99-1 2.48-1 1.49 0 2.49 1 1 1 1 2.49 0 1.49-1 2.48-1 1-2.49 1zm0-1.65q.78 0 1.26-.53.49-.52.49-1.3 0-.78-.49-1.3-.48-.53-1.27-.53-.77 0-1.26.53-.48.52-.48 1.3 0 .78.48 1.3.49.53 1.27.53zm6.68-2.79v4.37h-1.92v-6.63l1.92-.21v.61q.64-.6 1.64-.6 1.29 0 1.98.78.75-.78 2.25-.78 1.3 0 1.99.78.68.79.68 1.82v4.23h-1.91v-3.76q0-.68-.31-1.06-.31-.37-1-.39-.57.04-.98.75-.04.21-.04.43v4.03h-1.91v-3.76q0-.68-.31-1.06-.31-.37-1-.39-.63.04-1.08.84zm11.11-.48-.75-1.16q1.3-.82 3.01-.82 1.23 0 1.94.68.72.69.72 2.05v4.1h-1.91v-.54q-.84.54-1.51.54-1.36 0-2.05-.58-.68-.58-.68-1.6 0-.96.65-1.71.64-.75 2.08-.75.67 0 1.51.41v-.21q-.02-.75-1.1-.82-1.23 0-1.91.41zm3.01 2.8v-.77q-.27-.53-1.3-.53-1.23.14-1.3.96.07.81 1.3.88 1.03 0 1.3-.54zm5.54-2.29v4.34h-1.92v-6.63l1.92-.21v.62q.69-.61 1.64-.61 1.3 0 1.98.78.68.79.68 1.82v4.23h-1.91v-3.76q0-.68-.34-1.06-.35-.37-1.04-.39-.59.04-1.01.87zm7.82 4.34h-1.91v-6.84h1.91zm-1.98-8.47q0 .41.27.68.28.27.76.27.47 0 .75-.27.27-.27.27-.68 0-.41-.27-.69-.28-.28-.77-.28-.46 0-.74.28-.27.28-.27.69zm4.53 3.62-.75-1.16q1.3-.82 3.01-.82 1.23 0 1.95.68.71.69.71 2.05v4.1h-1.91v-.54q-.83.54-1.5.54-1.37 0-2.05-.58-.69-.58-.69-1.6 0-.96.65-1.71.64-.75 2.09-.75.66 0 1.5.41v-.21q-.01-.75-1.09-.82-1.23 0-1.92.41zm3.01 2.8v-.77q-.27-.53-1.3-.53-1.23.14-1.3.96.07.81 1.3.88 1.03 0 1.3-.54z" transform="matrix(4.5696877 0 0 4.5696877 96.32992 -2.231069)"/><switch transform="matrix(.92888913 0 0 .92888913 183.177811 -199.524525)"><path d="m-155 298.8c11.2 0 21.7-4.3 29.6-12.2s12.2-18.4 12.2-29.6-4.3-21.7-12.2-29.6-18.4-12.2-29.6-12.2-21.7 4.3-29.6 12.2-12.2 18.4-12.2 29.6 4.3 21.7 12.2 29.6 18.4 12.2 29.6 12.2zm2.4-7.1c-.8.1-1.6.1-2.4.1-1.1 0-2.2-.1-3.3-.2-3.6-5.6-6.3-11.6-7.9-17.9h17.7c.6 1.5 1.7 2.9 3 3.8-1.7 5-4.1 9.7-7.1 14.2zm9.5-2c1.9-3.5 3.4-7 4.6-10.7 2.9-.6 5.2-2.6 6.3-5.3h7.7c-4 7.3-10.7 13-18.6 16zm22.8-32.7c0 3.3-.5 6.5-1.3 9.6h-10.8c-.6-1.3-1.6-2.5-2.8-3.4.2-2.2.3-4.4.3-6.6 0-3.1-.2-6.2-.6-9.2h13.8c1 3 1.4 6.3 1.4 9.6zm-4.2-16.7h-12.2c-1.3-5.5-3.2-10.7-5.8-15.7 7.6 2.9 14 8.6 18 15.7zm-17.4 16.3c0 1.7-.1 3.4-.2 5.1-2.8.6-5.1 2.4-6.2 4.9h-19.3c-.4-3-.7-6.1-.7-9.1 0-1.9.1-3.8.3-5.7 2.6-.5 4.7-2.2 6-4.4h19.5c.4 3 .6 6.1.6 9.2zm-15.7-34.2c.9-.1 1.8-.1 2.6-.1 1 0 2 0 3 .1 3.6 5.6 6.3 11.6 7.9 17.9h-17.4c-.6-1.7-1.7-3.2-3.1-4.3 1.8-4.8 4.1-9.3 7-13.6zm-9.5 2c-1.7 3.2-3.2 6.6-4.4 10-3.1.6-5.6 2.9-6.6 5.8h-7.3c3.9-7.1 10.4-12.8 18.3-15.8zm-22.6 32.6c0-3.3.5-6.6 1.4-9.6h10.9c.6 1.1 1.5 2.1 2.5 2.9-.2 2.4-.4 4.8-.4 7.2 0 3.1.2 6.1.6 9.1h-13.6c-1-3.1-1.4-6.3-1.4-9.6zm16.2 16.6c1.3 5.4 3.2 10.7 5.8 15.7-7.6-3-13.9-8.6-17.8-15.7z"/></switch></g></svg>
                </router-link>
            </div>
            <div></div>
        </div>
        <aside class="sticky z-10 top-0 left-0 hidden sm:w-auto md:w-64 h-screen sm:flex flex-col absolute bg-blue-900 dark:bg-gray-900 shadow justify-between">
            <div class="px-8">
                <div>
                    <router-link to="/Home" class="h-16 w-full flex items-center">
                        <svg class="hidden md:flex" height="78" viewBox="0 0 485 78" width="485" xmlns="http://www.w3.org/2000/svg"><g fill="#fff"><path d="m5.41 12.67q-2.18 0-3.65-1.47-1.47-1.47-1.47-3.67 0-2.16 1.47-3.64 1.47-1.47 3.65-1.47 2.19 0 3.76 1.37l-1.36 1.49q-1.05-.82-2.4-.82-1.38.01-2.23.87-.84.85-.84 2.18 0 1.43.85 2.27.85.84 2.23.84 1.11 0 1.7-.43v-1.76l-1.36.01v-1.92h3.41v4.79q-1.56 1.36-3.76 1.36zm7.43-6.84v.76q.74-.75 1.79-.75.33 0 .63.05l-.3 1.89q-.33-.3-.95-.32-.7.05-1.17 1.01v4.2h-1.91v-6.63zm6.77 6.91q-1.49 0-2.49-1-.99-1-.99-2.48 0-1.49.99-2.49 1-1 2.49-1 1.49 0 2.49 1 1 1 1 2.49 0 1.49-1 2.48-1 1-2.49 1zm0-1.65q.77 0 1.26-.53.49-.52.49-1.3 0-.78-.49-1.3-.49-.53-1.27-.53-.77 0-1.26.53-.48.52-.48 1.3 0 .78.48 1.3.49.53 1.27.53zm8.91-.84v-4.42h1.91v6.84h-1.91v-.62q-.69.62-1.64.62-1.3 0-1.98-.79-.69-.79-.69-1.81v-4.24h1.92v3.76q0 .68.34 1.06.34.38 1.03.4.6-.04 1.02-.8zm5.45 5.3-1.91-.01v-9.5l1.91-.21v.55q.77-.55 1.51-.55 1.57 0 2.49 1.03.93 1.02.93 2.39 0 1.37-.93 2.39-.92 1.03-2.49 1.03-1.03-.07-1.51-.56zm0-6.92v1.11q.14 1.15 1.44 1.35 1.64-.13 1.85-1.7-.07-1.92-1.85-1.99-1.3.21-1.44 1.23zm9.38 4.11q-1.49 0-2.48-1-1-1-1-2.48 0-1.49 1-2.49.99-1 2.48-1 1.49 0 2.49 1 1 1 1 2.49 0 1.49-1 2.48-1 1-2.49 1zm0-1.65q.78 0 1.26-.53.49-.52.49-1.3 0-.78-.49-1.3-.48-.53-1.27-.53-.77 0-1.26.53-.48.52-.48 1.3 0 .78.48 1.3.49.53 1.27.53zm6.68-2.79v4.37h-1.92v-6.63l1.92-.21v.61q.64-.6 1.64-.6 1.29 0 1.98.78.75-.78 2.25-.78 1.3 0 1.99.78.68.79.68 1.82v4.23h-1.91v-3.76q0-.68-.31-1.06-.31-.37-1-.39-.57.04-.98.75-.04.21-.04.43v4.03h-1.91v-3.76q0-.68-.31-1.06-.31-.37-1-.39-.63.04-1.08.84zm11.11-.48-.75-1.16q1.3-.82 3.01-.82 1.23 0 1.94.68.72.69.72 2.05v4.1h-1.91v-.54q-.84.54-1.51.54-1.36 0-2.05-.58-.68-.58-.68-1.6 0-.96.65-1.71.64-.75 2.08-.75.67 0 1.51.41v-.21q-.02-.75-1.1-.82-1.23 0-1.91.41zm3.01 2.8v-.77q-.27-.53-1.3-.53-1.23.14-1.3.96.07.81 1.3.88 1.03 0 1.3-.54zm5.54-2.29v4.34h-1.92v-6.63l1.92-.21v.62q.69-.61 1.64-.61 1.3 0 1.98.78.68.79.68 1.82v4.23h-1.91v-3.76q0-.68-.34-1.06-.35-.37-1.04-.39-.59.04-1.01.87zm7.82 4.34h-1.91v-6.84h1.91zm-1.98-8.47q0 .41.27.68.28.27.76.27.47 0 .75-.27.27-.27.27-.68 0-.41-.27-.69-.28-.28-.77-.28-.46 0-.74.28-.27.28-.27.69zm4.53 3.62-.75-1.16q1.3-.82 3.01-.82 1.23 0 1.95.68.71.69.71 2.05v4.1h-1.91v-.54q-.83.54-1.5.54-1.37 0-2.05-.58-.69-.58-.69-1.6 0-.96.65-1.71.64-.75 2.09-.75.66 0 1.5.41v-.21q-.01-.75-1.09-.82-1.23 0-1.92.41zm3.01 2.8v-.77q-.27-.53-1.3-.53-1.23.14-1.3.96.07.81 1.3.88 1.03 0 1.3-.54z" transform="matrix(4.5696877 0 0 4.5696877 96.32992 -2.231069)"/><switch transform="matrix(.92888913 0 0 .92888913 183.177811 -199.524525)"><path d="m-155 298.8c11.2 0 21.7-4.3 29.6-12.2s12.2-18.4 12.2-29.6-4.3-21.7-12.2-29.6-18.4-12.2-29.6-12.2-21.7 4.3-29.6 12.2-12.2 18.4-12.2 29.6 4.3 21.7 12.2 29.6 18.4 12.2 29.6 12.2zm2.4-7.1c-.8.1-1.6.1-2.4.1-1.1 0-2.2-.1-3.3-.2-3.6-5.6-6.3-11.6-7.9-17.9h17.7c.6 1.5 1.7 2.9 3 3.8-1.7 5-4.1 9.7-7.1 14.2zm9.5-2c1.9-3.5 3.4-7 4.6-10.7 2.9-.6 5.2-2.6 6.3-5.3h7.7c-4 7.3-10.7 13-18.6 16zm22.8-32.7c0 3.3-.5 6.5-1.3 9.6h-10.8c-.6-1.3-1.6-2.5-2.8-3.4.2-2.2.3-4.4.3-6.6 0-3.1-.2-6.2-.6-9.2h13.8c1 3 1.4 6.3 1.4 9.6zm-4.2-16.7h-12.2c-1.3-5.5-3.2-10.7-5.8-15.7 7.6 2.9 14 8.6 18 15.7zm-17.4 16.3c0 1.7-.1 3.4-.2 5.1-2.8.6-5.1 2.4-6.2 4.9h-19.3c-.4-3-.7-6.1-.7-9.1 0-1.9.1-3.8.3-5.7 2.6-.5 4.7-2.2 6-4.4h19.5c.4 3 .6 6.1.6 9.2zm-15.7-34.2c.9-.1 1.8-.1 2.6-.1 1 0 2 0 3 .1 3.6 5.6 6.3 11.6 7.9 17.9h-17.4c-.6-1.7-1.7-3.2-3.1-4.3 1.8-4.8 4.1-9.3 7-13.6zm-9.5 2c-1.7 3.2-3.2 6.6-4.4 10-3.1.6-5.6 2.9-6.6 5.8h-7.3c3.9-7.1 10.4-12.8 18.3-15.8zm-22.6 32.6c0-3.3.5-6.6 1.4-9.6h10.9c.6 1.1 1.5 2.1 2.5 2.9-.2 2.4-.4 4.8-.4 7.2 0 3.1.2 6.1.6 9.1h-13.6c-1-3.1-1.4-6.3-1.4-9.6zm16.2 16.6c1.3 5.4 3.2 10.7 5.8 15.7-7.6-3-13.9-8.6-17.8-15.7z"/></switch></g></svg>
                        <svg class="flex md:hidden" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="m0 0h300v300h-300z" fill="none"/><svg fill="#fff" transform="matrix(.85 0 0 .85 22.500006 22.500058)" viewBox="-205 207 100 100" xmlns="http://www.w3.org/2000/svg"><switch><path d="m-155 298.8c11.2 0 21.7-4.3 29.6-12.2s12.2-18.4 12.2-29.6-4.3-21.7-12.2-29.6-18.4-12.2-29.6-12.2-21.7 4.3-29.6 12.2-12.2 18.4-12.2 29.6 4.3 21.7 12.2 29.6 18.4 12.2 29.6 12.2zm2.4-7.1c-.8.1-1.6.1-2.4.1-1.1 0-2.2-.1-3.3-.2-3.6-5.6-6.3-11.6-7.9-17.9h17.7c.6 1.5 1.7 2.9 3 3.8-1.7 5-4.1 9.7-7.1 14.2zm9.5-2c1.9-3.5 3.4-7 4.6-10.7 2.9-.6 5.2-2.6 6.3-5.3h7.7c-4 7.3-10.7 13-18.6 16zm22.8-32.7c0 3.3-.5 6.5-1.3 9.6h-10.8c-.6-1.3-1.6-2.5-2.8-3.4.2-2.2.3-4.4.3-6.6 0-3.1-.2-6.2-.6-9.2h13.8c1 3 1.4 6.3 1.4 9.6zm-4.2-16.7h-12.2c-1.3-5.5-3.2-10.7-5.8-15.7 7.6 2.9 14 8.6 18 15.7zm-17.4 16.3c0 1.7-.1 3.4-.2 5.1-2.8.6-5.1 2.4-6.2 4.9h-19.3c-.4-3-.7-6.1-.7-9.1 0-1.9.1-3.8.3-5.7 2.6-.5 4.7-2.2 6-4.4h19.5c.4 3 .6 6.1.6 9.2zm-15.7-34.2c.9-.1 1.8-.1 2.6-.1 1 0 2 0 3 .1 3.6 5.6 6.3 11.6 7.9 17.9h-17.4c-.6-1.7-1.7-3.2-3.1-4.3 1.8-4.8 4.1-9.3 7-13.6zm-9.5 2c-1.7 3.2-3.2 6.6-4.4 10-3.1.6-5.6 2.9-6.6 5.8h-7.3c3.9-7.1 10.4-12.8 18.3-15.8zm-22.6 32.6c0-3.3.5-6.6 1.4-9.6h10.9c.6 1.1 1.5 2.1 2.5 2.9-.2 2.4-.4 4.8-.4 7.2 0 3.1.2 6.1.6 9.1h-13.6c-1-3.1-1.4-6.3-1.4-9.6zm16.2 16.6c1.3 5.4 3.2 10.7 5.8 15.7-7.6-3-13.9-8.6-17.8-15.7z"/></switch></svg></svg>
                    </router-link>
                </div>
                <ul class="mt-12">
                    <li class="flex w-full justify-between text-gray-300 hover:text-white cursor-pointer items-center mb-6">
                        <router-link to="/WritePost" class="flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 478 478" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path d="m392.533 0h-307.2c-47.105.056-85.277 38.228-85.333 85.333v307.2c.056 47.105 38.228 85.277 85.333 85.333h307.2c47.105-.056 85.277-38.228 85.333-85.333v-307.2c-.056-47.105-38.228-85.277-85.333-85.333zm51.2 392.533c0 28.277-22.923 51.2-51.2 51.2h-307.2c-28.277 0-51.2-22.923-51.2-51.2v-307.2c0-28.277 22.923-51.2 51.2-51.2h307.2c28.277 0 51.2 22.923 51.2 51.2z" fill="currentColor"/>
                                <path d="m324.267 221.867h-68.267v-68.267c0-9.426-7.641-17.067-17.067-17.067s-17.067 7.641-17.067 17.067v68.267h-68.266c-9.426 0-17.067 7.641-17.067 17.067s7.641 17.066 17.067 17.066h68.267v68.267c0 9.426 7.641 17.067 17.067 17.067s17.066-7.642 17.066-17.067v-68.267h68.267c9.426 0 17.067-7.641 17.067-17.067s-7.642-17.066-17.067-17.066z" fill="currentColor"/>
                            </svg>
                            <span class="text-sm ml-2 hidden md:block">Nouveau Post</span>
                        </router-link>
                    </li>
                    <li class="flex w-full justify-between text-gray-500 hover:text-gray-400 cursor-pointer items-center mb-6">
                        <div class="flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" height="18" width="18" viewBox="0 0 60 54" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path d="m3.245 23.673c-1.2600359 4.8415222-.87303571 9.964701 1.1 14.562 4.3050059 9.2216234 13.5136751 15.1604182 23.69 15.278 9.78 0 18.937-5.573 25.132-13.513 3.7 1.989 3.908 2.2 4.6 2.2.5735744-.0004127 1.1193662-.2470639 1.4987036-.6772858.3793375-.4302218.5557066-1.0026023.4842964-1.5717142l-2.592-20.751c-.0781887-.6253293-.4465382-1.1772301-.9940183-1.4893449s-1.2100456-.347932-1.7879817-.0966551l-3.508 1.525c-3.815-7.389-8.9-12.926-16.949-15.009-.3888321-2.37725302-2.4401639-4.12441752-4.849-4.13h-24.07c-2.76005315.00330612-4.99669388 2.23994685-5 5v14c.00827967 2.0797722 1.29915003 3.9387051 3.245 4.673zm51.928-4.223 2.595 20.75c-4.43-2.382-4.427-2.411-4.707-2.457-.2518949-.0389978-.5092461.018112-.721.16-.04.028-.234.207-.241.217-5.871 7.86-14.047 12.719-22.432 13.333-9.58.716-19.457-5.2-23.5-14.05-1.80603539-4.2359895-2.13913186-8.9553257-.946-13.403h8.266c-1.787 8.833 5.522 16.881 13.957 16.881 4.447 0 10.03-2.818 13.756-8.352.01-.015.01-.032.019-.047s.023-.023.031-.038c.0186966-.0455571.0330926-.0927625.043-.141.0268404-.0619179.0466314-.1266581.059-.193.0071794-.126317.0008098-.2530396-.019-.378-.145-.585-.227-.5-6.046-3.636zm-27.173 4.55h1c2.7600532-.0033061 4.9966939-2.2399468 5-5v-3.62c3.6 1.693 5.489 4.288 7.428 7.865l-6.938 3.017c-.7024906.3051535-1.1690169.9846961-1.2013712 1.7499182-.0323543.7652222.3751461 1.4817194 1.0493712 1.8450818l4.545 2.448c-2.2610367 3.1133944-5.528384 5.3499147-9.249 6.331-4.228.983-9.163-1-12-4.824-2.1178539-2.798623-2.8838569-6.3930859-2.091-9.812 2.893 0 2.988-.082 3.364.247 8.031 7.027 7.561 6.753 8.093 6.753.5522847 0 1-.4477153 1-1zm21.03-4.06-5.762 2.506c-2.343-4.346-4.712-7.408-9.268-9.246v-6.953c5.631 1.627 10.636 5.239 15.03 13.693zm-47.03-14.94c0-1.65685425 1.34314575-3 3-3h24.07c.7877409.00495733 1.5407539.32487841 2.0911681.88844245.5504143.56356404.852471 1.32391918.8388319 2.11155755v14c0 1.6568542-1.3431458 3-3 3h-1c-1.1045695 0-2 .8954305-2 2v3.8l-5.776-5.054c-.5462006-.4797493-1.2480246-.7448434-1.975-.746-14.273 0-13.4.015-13.672-.031-1.47812929-.2105193-2.57648798-1.4759547-2.577-2.969z" fill="currentColor"/>
                                <path d="m6 17.993c0 .5522847.44771525 1 1 1h8c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1h-6.721c.714-1.343 2.628-2.665 3.886-3.53 1.2266641-.7022329 2.286909-1.6615021 3.108-2.812.9151194-1.43715875.9092604-3.27570288-.015-4.707-2.295-3.356-9.146-2.427-9.258 3.049 0 .55228475.44771525 1 1 1s1-.44771525 1-1c-.01918026-1.39142573.94137197-2.60506259 2.3-2.906 1.2019075-.32225036 2.4828916.05899031 3.313.986.4806475.78408706.4627012 1.77581618-.046 2.542-1.282 2.108-7.567 4.32-7.567 8.378z" fill="currentColor"/>
                                <path d="m17 15h6v3c0 .5522847.4477153 1 1 1s1-.4477153 1-1v-3h2c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1h-2v-8c.0003821-.42756257-.2711087-.80806653-.6755402-.94679329-.4044314-.13872676-.8523184-.00498145-1.1144598.33279329l-7 9c-.2345926.301572-.2768437.7104599-.1088735 1.0536295.1679703.3431696.5168011.5606357.8988735.5603705zm6-7.085v5.085h-3.956z" fill="currentColor"/>
                            </svg>
                            <span class="text-sm ml-2 hidden md:block">Les derniers posts</span>
                        </div>
                        <div class="py-1 px-3 bg-gray-500 rounded text-gray-300 hidden md:flex items-center justify-center text-xs">8</div>
                    </li>
                    <li class="flex w-full justify-between text-gray-500 hover:text-gray-400 cursor-pointer items-center mb-6">
                        <div class="flex items-center">
                            <svg  xmlns="http://www.w3.org/2000/svg" height="18" width="18" viewBox="-80 0 511 511.99927" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path d="m285.402344 132.957031c-3.480469-5.761719-10.378906-8.5-16.863282-6.691406-6.488281 1.808594-10.972656 7.714844-10.972656 14.449219 0 18.308594-14.894531 33.199218-33.199218 33.199218-18.308594 0-33.199219-14.890624-33.199219-33.199218v-125.714844c0-6.066406-3.65625-11.535156-9.261719-13.859375-5.605469-2.320313-12.058594-1.035156-16.347656 3.253906-1.679688 1.683594-41.683594 41.914063-82.207032 102.703125-23.894531 35.84375-42.964843 71.398438-56.675781 105.675782-17.367187 43.421874-26.175781 84.996093-26.175781 123.558593 0 96.863281 78.804688 175.667969 175.664062 175.667969 96.863282 0 175.667969-78.804688 175.667969-175.667969 0-62-22.351562-130.425781-66.429687-203.375zm-109.238282 349.042969c-80.316406 0-145.664062-65.347656-145.664062-145.667969 0-79.0625 42.136719-158.980469 77.488281-212.105469 19.160157-28.792968 38.46875-53.058593 53.175781-70.316406v86.804688c0 34.847656 28.351563 63.199218 63.199219 63.199218 21.304688 0 40.183594-10.59375 51.636719-26.792968 30.429688 57.300781 45.832031 110.746094 45.832031 159.210937 0 80.320313-65.34375 145.667969-145.667969 145.667969zm0 0" fill="currentColor"/>
                                <path d="m261.257812 253.167969h-64.265624c-8.285157 0-15 6.714843-15 14.996093-.003907 8.285157 6.714843 15.003907 14.996093 15.003907h28.058594l-64.085937 64.082031-34.835938-34.835938c-5.855469-5.855468-15.355469-5.855468-21.210938 0l-34.085937 34.082032c-5.859375 5.859375-5.859375 15.355468-.003906 21.214844 5.859375 5.859374 15.355469 5.855468 21.214843 0l23.480469-23.476563 34.832031 34.835937c2.8125 2.8125 6.628907 4.394532 10.609376 4.394532 3.976562 0 7.792968-1.582032 10.605468-4.394532l74.691406-74.6875v28.050782c0 8.28125 6.714844 15 15 15 8.285157 0 15-6.71875 15-15v-64.265625c0-8.285157-6.714843-15-15-15zm0 0" fill="currentColor"/>
                            </svg>
                            <span class="text-sm ml-2 hidden md:block">Les plus populaires</span>
                        </div>
                        <div class="py-1 px-3 bg-gray-500 rounded text-gray-300 hidden md:flex items-center justify-center text-xs">5</div>
                    </li>
                </ul>
            </div>
            <div class="h-16 w-full absolute left-4 bottom-12">
                <div class="text-gray-300 hover:text-gray-500 cursor-pointer">
                    <router-link :to="{ name: 'Profile', params: {id: $store.state.infosConnectedProfile.id}}"  class="flex items-center h-12 w-12 ">
                        <img class="rounded-full border" :src="getImgUrl(infosProfile.pictureURL)">
                        <span class="text-sm ml-1 pl-2 hidden md:block">{{infosProfile.username}}</span>
                    </router-link>
                </div>
            </div>
            <div class="px-8 border-t border-gray-900">
                <ul class="w-full flex items-center justify-between bg-blue-900 dark:bg-gray-900">
                    <li class="hidden md:block pt-5 pb-3">
                        <div class="flex align-center text-gray-600">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="icon mr-2" :class="lightIconColor" height="20" width="20" viewBox="0 0 302.4 302.4" stroke-width="1.5" stroke="currentColor" fill="currentColor" stroke-linecap="round" stroke-linejoin="round" xml:space="preserve">
                                <path d="M204.8,97.6C191.2,84,172,75.2,151.2,75.2s-40,8.4-53.6,22.4c-13.6,13.6-22.4,32.8-22.4,53.6s8.8,40,22.4,53.6
                                    c13.6,13.6,32.8,22.4,53.6,22.4s40-8.4,53.6-22.4c13.6-13.6,22.4-32.8,22.4-53.6S218.8,111.2,204.8,97.6z"/>
                                <path d="M151.2,51.6c5.6,0,10.4-4.8,10.4-10.4V10.4c0-5.6-4.8-10.4-10.4-10.4c-5.6,0-10.4,4.8-10.4,10.4v30.8
                                    C140.8,46.8,145.6,51.6,151.2,51.6z"/>
                                <path d="M236.4,80.8l22-22c4-4,4-10.4,0-14.4s-10.4-4-14.4,0l-22,22c-4,4-4,10.4,0,14.4C225.6,84.8,232,84.8,236.4,80.8z"/>
                                <path d="M292,140.8h-30.8c-5.6,0-10.4,4.8-10.4,10.4c0,5.6,4.8,10.4,10.4,10.4H292c5.6,0,10.4-4.8,10.4-10.4
                                    C302.4,145.6,297.6,140.8,292,140.8z"/>
                                <path d="M236,221.6c-4-4-10.4-4-14.4,0s-4,10.4,0,14.4l22,22c4,4,10.4,4,14.4,0s4-10.4,0-14.4L236,221.6z"/>
                                <path d="M151.2,250.8c-5.6,0-10.4,4.8-10.4,10.4V292c0,5.6,4.8,10.4,10.4,10.4c5.6,0,10.4-4.8,10.4-10.4v-30.8
                                    C161.6,255.6,156.8,250.8,151.2,250.8z"/>
                                <path d="M66,221.6l-22,22c-4,4-4,10.4,0,14.4s10.4,4,14.4,0l22-22c4-4,4-10.4,0-14.4C76.8,217.6,70.4,217.6,66,221.6z"/>
                                <path d="M51.6,151.2c0-5.6-4.8-10.4-10.4-10.4H10.4c-5.6,0-10.4,4.8-10.4,10.4s4.8,10.4,10.4,10.4h30.8
                                    C46.8,161.6,51.6,156.8,51.6,151.2z"/>
                                <path d="M66,80.8c4,4,10.4,4,14.4,0s4-10.4,0-14.4l-22-22c-4-4-10.4-4-14.4,0s-4,10.4,0,14.4L66,80.8z"/>
                            </svg>
                            <div class="relative inline-block w-10 select-none">
                                <input v-on:click="switchTheme(toggleTheme)" v-model="toggleTheme" true-value="dark" false-value="light" type="checkbox" name="toggleDark" id="toggleDark" class="transition-transform transform translate-x-0 duration-500 theme-switch absolute block w-3 h-3 rounded-full bg-white hover:bg-yellow-400 appearance-none cursor-pointer mx-1 my-1"/>
                                <label for="toggleDark" class="theme-switch-label block overflow-hidden w-10 h-5 rounded-full bg-blue-300 cursor-pointer"></label>
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon ml-2" :class="darkIconColor" height="20" width="20" viewBox="-12 0 448 448.04455" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path d="m224.023438 448.03125c85.714843.902344 164.011718-48.488281 200.117187-126.230469-22.722656 9.914063-47.332031 14.769531-72.117187 14.230469-97.15625-.109375-175.890626-78.84375-176-176 .972656-65.71875 37.234374-125.832031 94.910156-157.351562-15.554688-1.980469-31.230469-2.867188-46.910156-2.648438-123.714844 0-224.0000005 100.289062-224.0000005 224 0 123.714844 100.2851565 224 224.0000005 224zm0 0" fill="currentColor"/>
                            </svg>
                        </div>
                    </li>
                    <li class="hidden md:block cursor-pointer hover:text-gray-500 text-white pt-5 pb-3">
                        <router-link to="/EditProfile"  class="">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z"></path>
                                <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </router-link>
                    </li>
                    <li class="hidden cursor-pointer hover:text-gray-500 text-white pt-5 pb-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z"></path>
                            <path d="m11.812 0c-6.523 0-11.812 5.289-11.812 11.812s5.289 11.813 11.812 11.813 11.813-5.29 11.813-11.813-5.29-11.812-11.813-11.812zm2.459 18.307c-.608.24-1.092.422-1.455.548-.362.126-.783.189-1.262.189-.736 0-1.309-.18-1.717-.539s-.611-.814-.611-1.367c0-.215.015-.435.045-.659.031-.224.08-.476.147-.759l.761-2.688c.067-.258.125-.503.171-.731.046-.23.068-.441.068-.633 0-.342-.071-.582-.212-.717-.143-.135-.412-.201-.813-.201-.196 0-.398.029-.605.09-.205.063-.383.12-.529.176l.201-.828c.498-.203.975-.377 1.43-.521.455-.146.885-.218 1.29-.218.731 0 1.295.178 1.692.53.395.353.594.812.594 1.376 0 .117-.014.323-.041.617-.027.295-.078.564-.152.811l-.757 2.68c-.062.215-.117.461-.167.736-.049.275-.073.485-.073.626 0 .356.079.599.239.728.158.129.435.194.827.194.185 0 .392-.033.626-.097.232-.064.4-.121.506-.17zm-.134-10.878c-.353.328-.778.492-1.275.492-.496 0-.924-.164-1.28-.492-.354-.328-.533-.727-.533-1.193 0-.465.18-.865.533-1.196.356-.332.784-.497 1.28-.497.497 0 .923.165 1.275.497.353.331.53.731.53 1.196 0 .467-.177.865-.53 1.193z" fill="none"/>
                        </svg>
                    </li>
                    <li v-on:click="deco" class="cursor-pointer hover:text-gray-500 text-white pt-5 pb-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" height="20" width="20" viewBox="0 0 511 512" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z"></path>
                            <path d="m361.5 392v40c0 44.113281-35.886719 80-80 80h-201c-44.113281 0-80-35.886719-80-80v-352c0-44.113281 35.886719-80 80-80h201c44.113281 0 80 35.886719 80 80v40c0 11.046875-8.953125 20-20 20s-20-8.953125-20-20v-40c0-22.054688-17.945312-40-40-40h-201c-22.054688 0-40 17.945312-40 40v352c0 22.054688 17.945312 40 40 40h201c22.054688 0 40-17.945312 40-40v-40c0-11.046875 8.953125-20 20-20s20 8.953125 20 20zm136.355469-170.355469-44.785157-44.785156c-7.8125-7.8125-20.476562-7.8125-28.285156 0-7.8125 7.808594-7.8125 20.472656 0 28.28125l31.855469 31.859375h-240.140625c-11.046875 0-20 8.953125-20 20s8.953125 20 20 20h240.140625l-31.855469 31.859375c-7.8125 7.808594-7.8125 20.472656 0 28.28125 3.90625 3.90625 9.023438 5.859375 14.140625 5.859375 5.121094 0 10.238281-1.953125 14.144531-5.859375l44.785157-44.785156c19.496093-19.496094 19.496093-51.214844 0-70.710938zm0 0" fill="currentColor"/>
                        </svg>
                    </li>
                </ul>
            </div>
        </aside>
        <!-- Sidebar ends -->
        <div class="mx-auto py-10 h-screen w-screen md:w-4/5 sm:w-11/12 sm:px-4">
                <!--<Profile /> Place your content here -->
                <slot name="viewContainer"></slot>
        </div>
    </div>
</template>

<script>

import axios from 'axios'

export default {
    name: 'Layout',
    components: {

    },
    data() {
        return {
            infosProfile: {
                name: "",
                surname: "",
                username: "",
                email: "",
                bio: "",
                pictureURL: "",
                createdAt: ""
            },
            toggleTheme:"",
            darkIconColor:"",
            lightIconColor:""
        }
        },
    methods: {
         getImgUrl(pic) {
            if (pic === null) {
                pic = "icon.png";
                return require('/public/images/'+pic);
            } else {    
            return require('/public/images/'+pic);
            }
        },
        deco: function() {
            localStorage.removeItem('token');
            localStorage.removeItem('id');
            this.$router.push({name: 'Login'});
        },
        switchTheme: function(theme) {
            if(theme === "dark") {
                localStorage.setItem('theme', 'dark');
                this.darkIconColor = 'text-white';
                this.lightIconColor = "";
                document.querySelector("html").classList.add("dark");
            } else {
                localStorage.setItem('theme', 'light');
                this.darkIconColor = "";
                this.lightIconColor = "text-white";
                document.querySelector("html").classList.remove("dark")
            }
        }
    },
    beforeCreate() { 
        const token = localStorage.getItem('token');
        const userId = localStorage.getItem('id');
        
        axios({
            method: 'post',
            url: 'http://localhost:3000/api/user/'+userId,
            data: {
                id: userId
            },
            headers: {
                'Authorization': `Basic ${token}` 
            }
        })
        .then(reponse => {
            console.log(reponse.data);
            this.infosProfile.id=reponse.data.id;
            this.infosProfile.surname=reponse.data.name;
            this.infosProfile.name=reponse.data.surname;
            this.infosProfile.username=reponse.data.username;
            this.infosProfile.email=reponse.data.email;
            this.infosProfile.bio=reponse.data.bio;
            this.infosProfile.pictureURL=reponse.data.pictureURL;
            this.infosProfile.createdAt=reponse.data.createdAt;
        })
        .catch(error => {
            console.log(error);
            this.$router.push({ name: 'Login' });
        })
    },
    created() {
        this.$store.state.infosConnectedProfile=this.infosProfile;
    },
}

</script>